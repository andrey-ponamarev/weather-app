(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{166:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(37),s=n.n(i),u=n(219),j=n(28),o=n.n(j),l=n(39),b=n(11),d=n(79),O=n.n(d),h="https://api.openweathermap.org/data/2.5",p=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(h,"/weather"),{params:{q:t,appid:"4958ed7e0d9621847979cf269b3dff50",units:"metric"}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(h,"/find"),{params:{q:t,appid:"4958ed7e0d9621847979cf269b3dff50",units:"metric"}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return"https://openweathermap.org/img/wn/".concat(e,"@2x.png")},m="Luxembourg",g=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),s=i[0],u=i[1],j=Object(r.useState)(null),d=Object(b.a)(j,2),O=d[0],h=d[1],f=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),h(null),e.next=5,p(t);case 5:n=e.sent,a(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(null),h("Weather API is not working");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){f(m)}),[]);return{loading:s,error:O,data:n,refreshData:function(){s||f(null===n?m:n.name)},getWeather:f,setCurrentPlace:a}},v=n(225),w=n(229),y=n(224),C=n(2),S=function(e){var t=e.data,n=e.settings,a=t.main,r=t.wind,c=t.name,i=t.weather[0];return Object(C.jsxs)(y.a,{container:!0,spacing:2,direction:"column",justifyContent:"center",alignContent:"center",children:[Object(C.jsx)(y.a,{item:!0,children:Object(C.jsxs)(y.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:[Object(C.jsx)(y.a,{item:!0,xs:6,children:Object(C.jsxs)(w.a,{variant:"h3",children:[a.temp,"\xb0C"]})}),Object(C.jsx)(y.a,{item:!0,xs:6,children:Object(C.jsx)(v.a,{alt:"Weather icon",src:x(i.icon),sx:{width:100,height:100}})})]})}),Object(C.jsx)(y.a,{item:!0,children:Object(C.jsx)(w.a,{variant:"h6",children:c})}),Object(C.jsx)(y.a,{item:!0,children:Object(C.jsxs)(w.a,{children:["Min/Max ",a.temp_min,"\xb0C/",a.temp_max,"\xb0C"]})}),Object(C.jsx)(y.a,{item:!0,children:Object(C.jsxs)(w.a,{children:["Feels like ",a.feels_like,"\xb0C. ",i.description]})}),Object(C.jsxs)(y.a,{item:!0,children:[n.pressure&&Object(C.jsxs)(w.a,{children:["Pressure: ",a.pressure]}),n.humidity&&Object(C.jsxs)(w.a,{children:["Humidity: ",a.humidity]}),n.windSpeed&&Object(C.jsxs)(w.a,{children:["Wind speed: ",r.speed,"m/s"]})]})]})},k=n(226),P=n(215),F=n(230),I=n(231),W=n(232),E=n(223);!function(e){e.pressure="Pressure",e.humidity="Humidity",e.windSpeed="Wind speed"}(a||(a={}));var L,A,B,D=function(e){var t=e.settings,n=e.toggleField,c=Object(r.useState)([]),i=Object(b.a)(c,2),s=i[0],u=i[1];Object(r.useEffect)((function(){if(t){var e=Object.keys(t);u(e)}}),[t]);var j=function(e){n(e.target.name)};return Object(C.jsx)(k.a,{sx:{display:"flex"},children:Object(C.jsxs)(F.a,{sx:{m:3},component:"fieldset",variant:"standard",children:[Object(C.jsx)(P.a,{component:"legend",children:"Settings"}),Object(C.jsx)(I.a,{children:s.map((function(e){return Object(C.jsx)(W.a,{control:Object(C.jsx)(E.a,{checked:t[e],onChange:j,name:e}),label:a[e]},e)}))})]})})},M=n(23),_=n(16),q=n(221),H=n(220),J=n(233),T=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),s=i[0],u=i[1],j=Object(r.useState)(null),d=Object(b.a)(j,2),O=d[0],h=d[1],p=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),h(null),e.next=5,f(t);case 5:n=e.sent,a(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(null),h("Weather API is not working");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}();return{loading:s,searchPlace:p,error:O,data:n}},z=n(104),G=n.n(z),K=n(56),N=K.a.img(L||(L=Object(_.a)(["\n  height: 1rem;\n  margin: auto 10px;\n"]))),Q=K.a.img(A||(A=Object(_.a)(["\n  height: 20px;\n  width: 40px;\n  object-fit: cover;\n  margin-left: 1rem;\n"]))),R=function(e){var t=T(),n=t.loading,a=t.data,i=t.searchPlace,s=Object(r.useState)(""),u=Object(b.a)(s,2),j=u[0],o=u[1],l=Object(r.useState)([]),d=Object(b.a)(l,2),O=d[0],h=d[1],p=Object(r.useCallback)(G()(i,500),[]);return Object(r.useEffect)((function(){null!==a&&h(a.list)}),[a,n]),Object(r.useEffect)((function(){j.length>3&&p(j)}),[j]),Object(C.jsx)(H.a,{id:"search-city",onInputChange:function(e,t){o(t)},renderInput:function(e){return Object(C.jsx)(q.a,Object(M.a)(Object(M.a)({},e),{},{label:"Search city",fullWidth:!0,InputProps:Object(M.a)(Object(M.a)({},e.InputProps),{},{endAdornment:Object(C.jsxs)(c.a.Fragment,{children:[n?Object(C.jsx)(J.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},getOptionLabel:function(e){return e.name},options:O,loading:n,onChange:function(t,n){e.onSelect(n)},freeSolo:!0,renderOption:function(e,t){var n,a=t.main,c=t.id,i=t.sys,s=t.weather,u=t.name,j=s[0];return Object(r.createElement)(k.a,Object(M.a)(Object(M.a)({component:"li"},e),{},{key:c}),Object(C.jsxs)(y.a,{container:!0,alignContent:"center",justifyContent:"start",children:[Object(C.jsx)(y.a,{item:!0,children:Object(C.jsxs)(w.a,{variant:"subtitle1",gutterBottom:!0,children:[u,", ",i.country,Object(C.jsx)(N,{alt:i.country,src:(n=i.country,"https://openweathermap.org/images/flags/".concat(n.toLocaleLowerCase(),".png"))})]})}),Object(C.jsx)(y.a,{item:!0,children:Object(C.jsxs)(w.a,{variant:"subtitle2",children:[a.temp,"\xb0C",Object(C.jsx)(Q,{alt:"Weather icon",src:x(j.icon)})]})})]}))}})},U=n(3),V=function(){var e=Object(r.useState)({pressure:!0,humidity:!0,windSpeed:!0}),t=Object(b.a)(e,2),n=t[0],a=t[1];return{settings:n,toggleField:function(e){n.hasOwnProperty(e)&&a(Object(M.a)(Object(M.a)({},n),{},Object(U.a)({},e,!n[e])))}}},X=n(227),Y=n(106),Z=n.n(Y),$=n(234),ee=n(5),te=Object(ee.a)($.a)(B||(B=Object(_.a)(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n"]))),ne=function(e){return Object(C.jsx)(te,Object(M.a)(Object(M.a)({},e),{},{color:"primary","aria-label":"refresh",children:Object(C.jsx)(Z.a,{})}))},ae=n(228),re=function(){var e=g(),t=e.loading,n=e.data,a=e.setCurrentPlace,r=e.refreshData,c=V(),i=c.settings,s=c.toggleField;return Object(C.jsxs)(X.a,{children:[Object(C.jsx)(u.a,{}),Object(C.jsx)(y.a,{container:!0,spacing:2,alignContent:"center",children:Object(C.jsx)(y.a,{item:!0,xs:12,mt:2,children:Object(C.jsx)(R,{onSelect:a})})}),Object(C.jsx)(D,{settings:i,toggleField:s}),Object(C.jsx)(ne,{onClick:r}),t?Object(C.jsx)(k.a,{sx:{width:"100%"},children:Object(C.jsx)(ae.a,{})}):n?Object(C.jsx)(S,{data:n,settings:i}):Object(C.jsx)("div",{children:"Sorry, try again later"})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,236)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(re,{})}),document.getElementById("root")),ce()}},[[166,1,2]]]);
//# sourceMappingURL=main.c7cdd3c0.chunk.js.map